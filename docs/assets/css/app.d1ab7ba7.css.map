{"version":3,"sources":["webpack:///src/components/src/components/Camera.vue","app.d1ab7ba7.css","webpack:///src/views/src/views/Home.vue","webpack:///src/src/App.vue"],"names":[],"mappings":"AAqLA,iCACA,eCnLA,CDqLA,wCACA,UAAA,CACA,eCnLA,CDqLA,wBACA,cCnLA,CDqLA,wBAIA,eCnLA,CCQA,oBACA,eDJA,CCMA,oBACA,oBAAA,CACA,SDJA,CCMA,oBACA,oBAAA,CACA,aDJA,CCMA,mBACA,aDJA,CEEA,WACA,UFUA,CERA,YACA,cAAA,CACA,qBFUA,CERA,OACA,cAAA,CACA,eFUA","file":"app.d1ab7ba7.css","sourcesContent":["<template>\n  <div class=\"camera\">\n    <div>\n      <b-button-group>\n        <b-button :disabled=\"!isStartEnabled\" v-on:click=\"start\">Start</b-button>\n        <b-button :disabled=\"isStartEnabled\" v-on:click=\"stop\">Stop</b-button>\n        <b-button :disabled=\"isStartEnabled\" v-on:click=\"snapshot\">Snapsot</b-button>\n        <b-button :disabled=\"!isPhoto\" v-on:click=\"download\">Downlolad</b-button>\n       \n      </b-button-group>\n    </div>\n     <form class=\"\">\n          <b-form-select v-model=\"selectedDevice\" :options=\"options\" size=\"sm\" ></b-form-select>\n        </form>\n\n    <!-- <div class=\"action-group\">\n      <button id=\"start-stream\" :disabled=\"!isStartEnabled\" v-on:click=\"start\">Start</button>\n      <button id=\"stop-stream\" :disabled=\"isStartEnabled\" v-on:click=\"stop\">Stop</button>\n      <button id=\"snapshot\" :disabled=\"isStartEnabled\" v-on:click=\"snapshot\">Snapshot</button>\n      <button id=\"download\" :disabled=\"!isPhoto\" v-on:click=\"download\">Download</button>\n      <select :disabled=\"!isPhoto\" class=\"u-full-width\" id=\"video-select\"></select>\n    </div>-->\n    <div id=\"container\">\n      <video playsinline autoplay></video>\n      <canvas></canvas>\n    </div>\n    <form id=\"upload-form\" class=\"upload-form\">\n      <input type=\"text\" name=\"cloud-name\" value=\"picturecloud7\" placeholder=\"Enter cloud name\" />\n      <input type=\"text\" name=\"preset\" value=\"bp_test_1\" placeholder=\"Enter upload preset\" />\n      <button type=\"submit\">Upload</button>\n    </form>\n    <div id=\"gallery\" />\n    <a\n      href=\"https://github.com/rebeccapeltz/vue-camera\"\n      title=\"View source for this page on GitHub\"\n      id=\"viewSource\"\n    >\n      View\n      source on GitHub\n    </a>\n  </div>\n</template>\n\n<script>\n// import CameraService from \"@/components/CameraService\";\n// const cameraService = new CameraService();\n\nexport default {\n  name: \"Camera\",\n  data() {\n    return {\n      video: null,\n      canvas: null,\n      fileData: null,\n      isStartEnabled: true,\n      isPhoto: false,\n      stream: null,\n      currentStream: null,\n      devices: [],\n      options: [],\n      constraints: {},\n      selectedDevice: \"0\"\n    };\n  },\n  methods: {\n    snapshot: function() {\n      console.log(\"snapshot\");\n      // this.camera.snapshot();\n      this.canvas.width = this.video.videoWidth;\n      this.canvas.height = this.video.videoHeight;\n      this.canvas\n        .getContext(\"2d\")\n        .drawImage(this.video, 0, 0, this.canvas.width, this.canvas.height);\n      this.fileData = this.canvas.toDataURL(\"image/jpeg\");\n      this.isPhoto = true;\n    },\n    stop: function() {\n      console.log(\"stop\");\n      this.video.pause();\n      if (this.currentStream) {\n        this.currentStream.getTracks().forEach(track => {\n          track.stop();\n        });\n        this.video.srcObject = null;\n      }\n\n      this.video.removeAttribute(\"src\");\n      this.video.load();\n      this.canvas\n        .getContext(\"2d\")\n        .clearRect(0, 0, this.canvas.width, this.canvas.height);\n      this.isStartEnabled = true;\n      this.isPhoto = false;\n    },\n    start: function() {\n      console.log(\"start\");\n      this.stop();\n      this.getMedia();\n      this.isStartEnabled = false;\n    },\n    download: function() {\n      console.log(\"downlaod\");\n      if (this.fileData) {\n        console.log(\"download\");\n        this.canvas.width = this.video.videoWidth;\n        this.canvas.height = this.video.videoHeight;\n        this.canvas\n          .getContext(\"2d\")\n          .drawImage(this.video, 0, 0, this.canvas.width, this.canvas.height);\n        let a = document.createElement(\"a\");\n        a.href = this.fileData;\n        a.textContent = \"photo\";\n        a.target = \"_blank\";\n        a.download = \"photo.jpeg\";\n        document.querySelector(\"body\").append(a);\n        a.click();\n      }\n    },\n    getMedia: async function() {\n      try {\n        this.stream = await navigator.mediaDevices.getUserMedia(\n          this.constraints\n        );\n        window.stream = this.stream;\n        // this.video.srcObject = stream\n        this.currentStream = stream;\n        this.video.srcObject = stream;\n      } catch (err) {\n        console.log(\"getmedia\", err);\n      }\n    },\n\n    setConstraints: function() {\n      // set constraints\n      this.constraints = {\n        video: {\n          facingMode: \"environment\"\n        },\n        audio: false\n      };\n    },\n    getDevices: async function() {\n      if (!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {\n        console.log(\"enumerateDevices() not supported.\");\n        return;\n      }\n      try {\n        let allDevices = await navigator.mediaDevices.enumerateDevices();\n        for (let mediaDevice of allDevices) {\n          console.log(\"enumerate\", mediaDevice);\n          if (mediaDevice.kind === \"videoinput\") {\n            let option = {};\n            option.text = mediaDevice.label;\n            option.value = mediaDevice.deviceId;\n            this.options.push(option);\n            this.devices.push(mediaDevice);\n          }\n        }\n        //default if only one\n        if (this.options.length < 3)\n          this.selectedDevice = this.options[1].value;\n      } catch (err) {\n        console.log(\"getDevices\", err);\n      }\n      console.log(\"devices\", this.devices);\n    }\n  },\n  mounted() {\n    this.canvas = document.querySelector(\"canvas\");\n    this.video = document.querySelector(\"video\");\n    this.options.push({ text: \"Select Device\", value: 0 });\n    this.getDevices();\n    this.setConstraints();\n    this.getMedia();\n    this.isStartEnabled = false;\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nbutton:disabled {\n  background: gray;\n}\nselect option:disabled {\n  color: gray;\n  font-weight: bold;\n}\nselect {\n  margin: .2rem 0;\n}\nbutton{\n  /* margin-right: .2rem; */\n  /* width: 102px; */\n  /* width: 25%; */\n  font-size: .7rem  ;\n}\n</style>\n","\nbutton[data-v-768bc89a]:disabled {\n  background: gray;\n}\nselect option[data-v-768bc89a]:disabled {\n  color: gray;\n  font-weight: bold;\n}\nselect[data-v-768bc89a] {\n  margin: .2rem 0;\n}\nbutton[data-v-768bc89a]{\n  /* margin-right: .2rem; */\n  /* width: 102px; */\n  /* width: 25%; */\n  font-size: .7rem  ;\n}\n\n\nh3[data-v-408737d5] {\n  margin: 40px 0 0;\n}\nul[data-v-408737d5] {\n  list-style-type: none;\n  padding: 0;\n}\nli[data-v-408737d5] {\n  display: inline-block;\n  margin: 0 10px;\n}\na[data-v-408737d5] {\n  color: #42b983;\n}\n\n\n#app {\n  /* font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px; */\n}\na.settings {\n  color: black;\n}\n.settings i { \n    font-size: 1rem;\n    vertical-align: middle;\n}\n.brand {\n  font-size: 3rem;\n  font-weight: bold;\n}\n\n\n/*# sourceMappingURL=app.d1ab7ba7.css.map*/","<template>\n  <div class=\"home\">\n   \n       \n       \n    <camera></camera>\n  </div>\n</template>\n\n<script>\nimport Camera from '@/components/Camera.vue'\nexport default {\n  name: 'Home',\n  props: {\n    msg: String\n  },\n  components:{\n    camera: Camera\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","<template>\n  <div id=\"app\">\n     <nav class=\"navbar navbar-light bg-light justify-content-between\">\n  <a class=\"navbar-brand\">Camera</a>\n  \n  <div>\n    <a class=\"settings\" href=\"\"><i class=\"settings fas fa-cog\"></i></a>\n    </div>\n  <!-- </form> -->\n</nav>\n    <Home />\n  </div>\n</template>\n\n<script>\nimport Home from \"./views/Home.vue\";\n\nexport default {\n  name: \"app\",\n  components: {\n    Home\n  }\n};\n</script>\n\n<style>\n#app {\n  /* font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px; */\n}\na.settings {\n  color: black;\n}\n.settings i { \n    font-size: 1rem;\n    vertical-align: middle;\n}\n.brand {\n  font-size: 3rem;\n  font-weight: bold;\n}\n</style>\n"]}