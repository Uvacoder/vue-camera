(function(t){function e(e){for(var a,s,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),i=n.n(a);i.a},3826:function(t,e,n){"use strict";var a=n("9cfe"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("a026"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),n("Home")],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-light bg-light justify-content-between"},[n("a",{staticClass:"navbar-brand"},[t._v("Camera")]),n("div",[n("a",{staticClass:"settings",attrs:{href:""}},[n("i",{staticClass:"settings fas fa-cog"})])])])}],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("camera")],1)},o=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"camera"},[n("div",[n("b-button-group",[n("b-button",{attrs:{disabled:!t.isStartEnabled},on:{click:t.start}},[t._v("Start")]),n("b-button",{attrs:{disabled:t.isStartEnabled},on:{click:t.stop}},[t._v("Stop")]),n("b-button",{attrs:{disabled:t.isStartEnabled},on:{click:t.snapshot}},[t._v("Snapsot")]),n("b-button",{attrs:{disabled:!t.isPhoto},on:{click:t.download}},[t._v("Downlolad")])],1)],1),n("form",{},[n("b-form-select",{attrs:{options:t.options,size:"sm"},model:{value:t.selectedDevice,callback:function(e){t.selectedDevice=e},expression:"selectedDevice"}})],1),t._m(0),t._m(1),n("div",{attrs:{id:"gallery"}}),n("a",{attrs:{href:"https://github.com/rebeccapeltz/vue-camera",title:"View source for this page on GitHub",id:"viewSource"}},[t._v("\n    View\n    source on GitHub\n  ")])])},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container"}},[n("video",{attrs:{playsinline:"",autoplay:""}}),n("canvas")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"upload-form",attrs:{id:"upload-form"}},[n("input",{attrs:{type:"text",name:"cloud-name",value:"picturecloud7",placeholder:"Enter cloud name"}}),n("input",{attrs:{type:"text",name:"preset",value:"bp_test_1",placeholder:"Enter upload preset"}}),n("button",{attrs:{type:"submit"}},[t._v("Upload")])])}],l=(n("ac4d"),n("8a81"),n("96cf"),n("3b8d")),d=(n("ac6a"),{name:"Camera",data:function(){return{video:null,canvas:null,fileData:null,isStartEnabled:!0,isPhoto:!1,stream:null,currentStream:null,devices:[],options:[],constraints:{},selectedDevice:"0"}},methods:{snapshot:function(){console.log("snapshot"),this.canvas.width=this.video.videoWidth,this.canvas.height=this.video.videoHeight,this.canvas.getContext("2d").drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.fileData=this.canvas.toDataURL("image/jpeg"),this.isPhoto=!0},stop:function(){console.log("stop"),this.video.pause(),this.currentStream&&(this.currentStream.getTracks().forEach((function(t){t.stop()})),this.video.srcObject=null),this.video.removeAttribute("src"),this.video.load(),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.isStartEnabled=!0,this.isPhoto=!1},start:function(){console.log("start"),this.stop(),this.getMedia(),this.isStartEnabled=!1},download:function(){if(console.log("downlaod"),this.fileData){console.log("download"),this.canvas.width=this.video.videoWidth,this.canvas.height=this.video.videoHeight,this.canvas.getContext("2d").drawImage(this.video,0,0,this.canvas.width,this.canvas.height);var t=document.createElement("a");t.href=this.fileData,t.textContent="photo",t.target="_blank",t.download="photo.jpeg",document.querySelector("body").append(t),t.click()}},getMedia:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia(this.constraints);case 3:this.stream=t.sent,window.stream=this.stream,this.currentStream=stream,this.video.srcObject=stream,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("getmedia",t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),setConstraints:function(){this.constraints={video:{facingMode:"environment"},audio:!1}},getDevices:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,r,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){t.next=3;break}return console.log("enumerateDevices() not supported."),t.abrupt("return");case 3:return t.prev=3,t.next=6,navigator.mediaDevices.enumerateDevices();case 6:for(e=t.sent,n=!0,a=!1,i=void 0,t.prev=10,r=e[Symbol.iterator]();!(n=(s=r.next()).done);n=!0)o=s.value,console.log("enumerate",o),"videoinput"===o.kind&&(c={},c.text=o.label,c.value=o.deviceId,this.options.push(c),this.devices.push(o));t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](10),a=!0,i=t.t0;case 18:t.prev=18,t.prev=19,n||null==r.return||r.return();case 21:if(t.prev=21,!a){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:this.options.length<3&&(this.selectedDevice=this.options[1].value),t.next=32;break;case 29:t.prev=29,t.t1=t["catch"](3),console.log("getDevices",t.t1);case 32:console.log("devices",this.devices);case 33:case"end":return t.stop()}}),t,this,[[3,29],[10,14,18,26],[19,,21,25]])})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.canvas=document.querySelector("canvas"),this.video=document.querySelector("video"),this.options.push({text:"Select Device",value:0}),this.getDevices(),this.setConstraints(),this.getMedia(),this.isStartEnabled=!1}}),h=d,v=(n("a253"),n("2877")),p=Object(v["a"])(h,c,u,!1,null,"768bc89a",null),f=p.exports,m={name:"Home",props:{msg:String},components:{camera:f}},b=m,g=(n("3826"),Object(v["a"])(b,s,o,!1,null,"408737d5",null)),w=g.exports,y={name:"app",components:{Home:w}},_=y,x=(n("034f"),Object(v["a"])(_,i,r,!1,null,null,null)),S=x.exports,D=n("8c4f");a["default"].use(D["a"]);var j=new D["a"]({routes:[{path:"/",name:"home",component:w}]}),k=n("5f5b");n("f9e3"),n("2dd8");a["default"].use(k["a"]),a["default"].config.productionTip=!1,new a["default"]({router:j,render:function(t){return t(S)}}).$mount("#app")},"64a9":function(t,e,n){},"9cfe":function(t,e,n){},a253:function(t,e,n){"use strict";var a=n("be11"),i=n.n(a);i.a},be11:function(t,e,n){}});
//# sourceMappingURL=app.028f64ab.js.map